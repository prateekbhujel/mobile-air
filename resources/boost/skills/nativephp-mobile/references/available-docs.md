# NativePHP Mobile v3 Documentation

## Getting Started

- [https://nativephp.com/docs/mobile/3/getting-started/introduction] Use these docs for understanding what NativePHP Mobile is: running full PHP apps natively on iOS/Android without a web server, the three-layer architecture (PHP runtime bundled in Swift/Kotlin shell, custom bridges, custom PHP extension), EDGE components for native UI, and support for Blade, Livewire, React, Vue, and Svelte
- [https://nativephp.com/docs/mobile/3/getting-started/quick-start] Use these docs for the fastest path to a running app: the Jump method (scan QR code via `php artisan native:jump`), standard install with `composer require nativephp/mobile`, `php artisan native:install`, `php artisan native:run`; the `./native` shortcut script; and the Kitchen Sink demo app
- [https://nativephp.com/docs/mobile/3/getting-started/environment-setup] Use these docs for dev environment prerequisites: PHP 8.3+, Laravel 11+, macOS with Apple silicon (M1+) for iOS, Xcode 16+, CocoaPods via Homebrew, Android Studio 2024.2.1+, SDK API 33+, JDK setup, JAVA_HOME/ANDROID_HOME env vars, Apple Developer Program enrollment, and Android device USB debugging
- [https://nativephp.com/docs/mobile/3/getting-started/installation] Use these docs for step-by-step installation: `composer require nativephp/mobile`, setting NATIVEPHP_APP_ID (reverse-DNS), NATIVEPHP_APP_VERSION, NATIVEPHP_APP_VERSION_CODE in .env, running `php artisan native:install`, ICU-enabled PHP decision, the `nativephp/` directory structure, and the `--force` flag for upgrades
- [https://nativephp.com/docs/mobile/3/getting-started/configuration] Use these docs for `config/nativephp.php` options: NATIVEPHP_APP_ID Bundle ID, NATIVEPHP_APP_VERSION with DEBUG mode for dev iteration, cleanup_env_keys/cleanup_exclude_files for bundle size, boolean permission toggles (biometric, camera, location, microphone, NFC, push notifications, storage, scanner, vibrate, network), custom iOS permission descriptions, device orientation per platform, and irreversible iPad support toggle
- [https://nativephp.com/docs/mobile/3/getting-started/development] Use these docs for the development workflow: Vite build with the nativephpMobile plugin (iOS/Android modes), `php artisan native:run`, `php artisan native:open` for Xcode/Android Studio, `System::isIos()`/`System::isAndroid()` for platform detection, `php artisan native:watch` for hot reload, Vite HMR via `nativephpHotFile()`, hot_reload.watch_paths config, and NATIVEPHP_APP_VERSION=DEBUG for forced re-extraction
- [https://nativephp.com/docs/mobile/3/getting-started/deployment] Use these docs for app store deployment: five stages (release, test, package, submit, publish); Android signing with `php artisan native:credentials android`, APK vs AAB formats, Play Store upload via Google Service Account with release track config; iOS with App Store Connect API .p8 key file, export methods (app-store/ad-hoc/enterprise/development); auto-incrementing build numbers; `--no-tty` for CI/CD pipelines
- [https://nativephp.com/docs/mobile/3/getting-started/versioning] Use these docs for the semantic versioning policy: patch releases (Laravel-only, no rebuild, no store resubmission), minor releases (native changes, requires `php artisan native:install --force`), major releases (breaking changes); recommended tilde Composer constraint `~2.0.0`; independent app versioning strategy
- [https://nativephp.com/docs/mobile/3/getting-started/upgrade-guide] Use these docs for migrating from NativePHP Mobile v2 to v3: removing nativephp.composer.sh from composer.json and auth.json, creating the new NativeServiceProvider in app/Providers/, the new plugin-based architecture for all native functionality, running `php artisan native:install --force`, and new commands `native:plugin:register`, `native:plugin:list`, `native:plugin:validate`
- [https://nativephp.com/docs/mobile/3/getting-started/changelog] Use these docs for version history and release notes across NativePHP Mobile v1.x, v2.x, and v3.x
- [https://nativephp.com/docs/mobile/3/getting-started/roadmap] Use these docs for planned upcoming features: background tasks (data sync, upload processing, push handling), EDGE native UI expansion (navigation bars, tab bars, platform-specific elements), and performance optimization (startup time, memory usage, responsiveness)
- [https://nativephp.com/docs/mobile/3/getting-started/support-policy] Use these docs for the official platform support stance: iOS 18+ and Android 13+ as of September 2025, no feature parity guarantee across all versions, and custom support via partner program for older platforms

## The Basics

- [https://nativephp.com/docs/mobile/3/the-basics/overview] Use these docs for architecture internals: PHP 8.4 compiled as an embeddable C library inside the native shell, `native:install` fetching platform-specific PHP binaries, `native:run` packaging Laravel into the native shell, and app startup operations (version checking, migrations, cache clearing, storage symlinks)
- [https://nativephp.com/docs/mobile/3/the-basics/events] Use these docs for the full event system: sync operations (Haptics::vibrate, Dialog::toast) vs async operations (Camera::getPhoto, Biometrics::prompt) that fire Laravel event classes; `#[OnNative()]` PHP attribute for Livewire; JavaScript `Native.on()` and `On()`/`Off()` functions; custom events by extending event classes and using `->event()`; dual PHP + JS dispatch pattern
- [https://nativephp.com/docs/mobile/3/the-basics/native-functions] Use these docs for the native bridge system: the `nativephp_call()` function, PHP facades (Biometrics, Browser, Camera from `Native\Mobile\Facades\`), the `#nativephp` JavaScript package alias with full TypeScript types, `On()`/`Off()` event methods in JS, and Vue.js microphone recording as an integration example
- [https://nativephp.com/docs/mobile/3/the-basics/native-components] Use these docs for the EDGE native UI system overview: Blade-style syntax rendered as truly native components (bottom-nav, top-bar, side-nav), hot reload without recompile, and platform-specific rendering per iOS/Android design guidelines
- [https://nativephp.com/docs/mobile/3/the-basics/web-view] Use these docs for web view configuration: `<meta name="viewport">` with edge-to-edge display and `viewport-fit`, CSS variables `--inset-top`/`--inset-bottom`/`--inset-left`/`--inset-right` for safe area insets, the `nativephp-safe-area` helper class, and `nativephp.status_bar_style` config (auto/light/dark for Android); supports Livewire, Vue, React, Svelte, HTMX
- [https://nativephp.com/docs/mobile/3/the-basics/splash-screens] Use these docs for splash screen setup: place `public/splash.png` (light) and `public/splash-dark.png` (dark), PNG format minimum 1080x1920px, GD PHP extension required with ~2GB memory
- [https://nativephp.com/docs/mobile/3/the-basics/app-icon] Use these docs for app icon setup: place `public/icon.png` at 1024x1024px PNG with no transparency, GD PHP extension required (~2GB memory), auto-resized for all Android density variants; default NativePHP icon used if none provided
- [https://nativephp.com/docs/mobile/3/the-basics/assets] Use these docs for asset management: must run Vite build (`npm run build`) before `native:run` for JS/CSS; all app root files are bundled (use relative paths, not storage_path()); user-generated files in `public` via `Storage::disk('mobile_public')`; set `FILESYSTEM_DISK=mobile_public` in .env

## EDGE Components (Native UI)

- [https://nativephp.com/docs/mobile/3/edge-components/introduction] Use these docs for the EDGE (Element Definition and Generation Engine) system: Blade syntax compiled to JSON and passed to native code outside the web view, server-driven UI via direct PHP-to-UI-state-manager, Inertia routing via `window.router` exposure, and runtime props validation with descriptive error messages
- [https://nativephp.com/docs/mobile/3/edge-components/bottom-nav] Use these docs for `<native:bottom-nav>` (up to 5 items): `label-visibility` (labeled/selected/unlabeled), `dark` mode; and `<native:bottom-nav-item>` with required props `id`, `icon`, `label`, `url` plus optional `active`, `badge`, and `news` dot indicator; external URLs open in the default browser
- [https://nativephp.com/docs/mobile/3/edge-components/top-bar] Use these docs for `<native:top-bar>` with `title`, `show-navigation-icon`, `background-color`, `text-color`, `elevation` (0-24, Android only); and `<native:top-bar-action>` with `id`, `icon`, `label`, `url`; up to 10 actions (Android shows 3 icons then overflow menu, iOS collapses at 5+)
- [https://nativephp.com/docs/mobile/3/edge-components/side-nav] Use these docs for `<native:side-nav>` with `gestures-enabled` (Android), `dark`; child components: `<native:side-nav-header>` (title, subtitle, icon, show-close-button on Android), `<native:side-nav-item>` (id, label, icon, url, active, badge), `<native:side-nav-group>` (heading, expanded), `<native:horizontal-divider>`; iOS always has gesture support enabled
- [https://nativephp.com/docs/mobile/3/edge-components/icons] Use these docs for the cross-platform icon system: iOS uses SF Symbols (dot notation e.g. `car.side.fill`), Android uses Material Icons (underscore notation e.g. `shopping_cart`); four-tier fallback strategy; use `System` facade for platform-conditional icons; common mapped icons include home, settings, add, edit, delete, search, account, notifications

## Plugins

- [https://nativephp.com/docs/mobile/3/plugins/introduction] Use these docs for the plugin architecture: Composer packages bundling PHP facades/events/service providers + Swift/Kotlin native code + manifest; bridge functions for synchronous native calls, event dispatching, permission declarations, native dependency management (Gradle/CocoaPods/SPM), Android component registration, asset bundling, build lifecycle hooks; official core plugins vs community Plugin Marketplace
- [https://nativephp.com/docs/mobile/3/plugins/using-plugins] Use these docs for installing and using plugins: `composer require vendor/plugin`, `php artisan native:plugin:register vendor/plugin`, `native:plugin:list` to verify, `native:run` to rebuild native code; facade usage, `#[OnNative]` attribute for event handlers, `native:plugin:uninstall` with `--force`/`--keep-files` flags, and automatic permission merging
- [https://nativephp.com/docs/mobile/3/plugins/creating-plugins] Use these docs for building a plugin from scratch: `php artisan native:plugin:create` scaffolding, the full `nativephp.json` manifest schema (namespace, bridge_functions, events, android.*, ios.*, assets, hooks, secrets), `composer.json` with `"type": "nativephp-plugin"`, directory structure (`resources/android/src/`, `resources/ios/Sources/`, `resources/js/`), `BridgeFunction` interface (Kotlin) and protocol (Swift), the `/_native/api/call` JS endpoint, local path repository development, and AI tools `native:plugin:boost` / `native:plugin:install-agent`
- [https://nativephp.com/docs/mobile/3/plugins/bridge-functions] Use these docs for connecting PHP to native Swift/Kotlin code: `nativephp_call(string $name, string $json): string` PHP global function (always guard with `function_exists()`), `json_decode($result)?->data` for reading responses; Swift `BridgeFunction` protocol with `execute(parameters: [String: Any])` returning `BridgeResponse.success(data:)` or `BridgeResponse.error(message:)`; Kotlin `BridgeFunction` interface with `execute(parameters: Map<String, Any>)` returning `BridgeResponse.success()` or `BridgeResponse.error()`; manifest declaration with `name`, `ios` (EnumName.ClassName format), `android` (fully-qualified class path), and `description` fields
- [https://nativephp.com/docs/mobile/3/plugins/events] Use these docs for dispatching events from native code back to PHP: declare event class names in `nativephp.json` `events` array; PHP event classes use `Dispatchable` + `SerializesModels` traits (no ShouldBroadcast needed); iOS dispatches via `LaravelBridge.shared.send?(eventClass, payload)`; Android dispatches via `NativeActionCoordinator.dispatchEvent(activity, eventClass, jsonString)` wrapped in `Handler(Looper.getMainLooper()).post {}`; critical: dispatching from a background thread silently fails on both platforms — always dispatch on the main/UI thread
- [https://nativephp.com/docs/mobile/3/plugins/lifecycle-hooks] Use these docs for running code during the native build process: four hook points (`pre_compile`, `post_compile`, `copy_assets`, `post_build`) declared in `nativephp.json` `hooks` object; scaffold with `php artisan native:plugin:make-hook`; extend `NativePluginHookCommand`; available methods: `isIos()`, `isAndroid()`, `platform()`, `buildPath()`, `pluginPath()`, `appId()`, `copyToAndroidAssets()`, `copyToIosBundle()`, `downloadIfMissing(url, dest)`, `unzip(zipPath, extractTo)`; must return `self::SUCCESS`
- [https://nativephp.com/docs/mobile/3/plugins/permissions-dependencies] Use these docs for declaring platform permissions and dependencies in `nativephp.json`: Android permissions as manifest strings (e.g. `android.permission.CAMERA`) under `android.permissions`; Android Gradle deps under `android.dependencies` with types `implementation`/`api`/`compileOnly`/`runtimeOnly`; custom Maven repos under `android.repositories` with `${ENV_VAR}` credential placeholders; iOS Info.plist entries (NSCameraUsageDescription, NSMicrophoneUsageDescription, etc.) under `ios.info_plist`; CocoaPods under `ios.dependencies.pods`; Swift Packages under `ios.dependencies.swift_packages` (prefer SPM over CocoaPods); `${ENV_VAR}` placeholders are resolved at build time
- [https://nativephp.com/docs/mobile/3/plugins/advanced-configuration] Use these docs for advanced `nativephp.json` options: `secrets` object with `description` and `required` fields for build-time env var validation; Android `features` array (`android.hardware.camera`), AndroidManifest component injection (`activities`, `services`, `receivers`, `providers`) with attributes like `exported`, `foregroundServiceType`, `intent-filters`; `meta_data` entries; `min_version` integer (floor: SDK 33); `init_function` static method called on startup; iOS `background_modes` (audio/fetch/processing/location/remote-notification/bluetooth-*), `entitlements`, `capabilities`; `assets` map for build-time file copying with `${ENV_VAR}` substitution in text files
- [https://nativephp.com/docs/mobile/3/plugins/validation-testing] Use these docs for validating and testing plugins: `php artisan native:plugin:validate` checks manifest JSON, bridge function name matches (case-sensitive), hook command registration, and declared assets on disk; PHP testing with Pest/PHPUnit verifies service container bindings; native code testing requires `native:run` on device/simulator then `php artisan native:tail` for live log streaming; common errors: bridge function name mismatch, invalid manifest JSON, unregistered hook command; debugging checklist: `"type": "nativephp-plugin"` in composer.json, `composer dump-autoload`, Kotlin package naming, events dispatched on main thread
- [https://nativephp.com/docs/mobile/3/plugins/best-practices] Use these docs for Plugin Marketplace standards: README must include PHP + JS usage examples and full API docs; JS library with TypeScript-typed named exports for all bridge methods; mandatory physical device testing on iOS + Android; must support Livewire v3/v4 (`#[OnNative]`) and Inertia+Vue/React; pass `php artisan native:plugin:validate`; required file structure: `resources/ios/Sources/`, `resources/android/src/`, `resources/js/`
- [https://nativephp.com/docs/mobile/3/plugins/core-plugins] Use these docs as the index for all official NativePHP core plugins; links to per-plugin docs at `/docs/mobile/3/plugins/core/{name}` for: biometrics, browser, camera, device, dialog, file, firebase (push notifications), geolocation, microphone, network, scanner, secure-storage, share, system; free (MIT): browser, camera, device, dialog, file, microphone, network, share, system; paid ($49): biometrics, geolocation, scanner, secure-storage; firebase is proprietary (push notifications)

## APIs (Device Features)

- [https://nativephp.com/docs/mobile/3/apis/camera] Use these docs for the camera plugin (`nativephp/mobile-camera`): `Camera::getPhoto()`, `Camera::recordVideo()` with fluent `maxDuration(int)`, `Camera::pickImages()` for gallery selection; PhotoTaken event (JPEG path), VideoRecorded event (MP4 path + MIME type), VideoCancelled event; fluent builder methods `->id()`, `->event()`, `->remember()`, `->start()`; camera permission required; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/microphone] Use these docs for the microphone plugin: `Microphone::record()`, `->stop()`, `->pause()`, `->resume()`, `->getStatus()` (returns idle/recording/paused), `->getRecording()` (returns last recording path); MicrophoneRecorded event with path, mimeType (audio/m4a), id; PendingMicrophone builder with `->id()`, `->event()`, `->remember()`, `->start()`; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/scanner] Use these docs for the scanner plugin (`nativephp/mobile-scanner`, $49): `Scanner::scan()` with fluent `prompt()`, `continuous()` (multi-scan mode), `formats()` (qr/ean13/ean8/code128/code39/upca/upce/all), `id()`; CodeScanned event with data, format, id; Android ML Kit (API 21+), iOS AVFoundation (13.0+)
- [https://nativephp.com/docs/mobile/3/apis/dialog] Use these docs for the dialog plugin (`nativephp/mobile-dialog`): `Dialog::alert()` with `->id()`, `->event()`, `->remember()`, `->show()`; `Dialog::toast(message, duration)` with 'short' (2s) or 'long' (4s); ButtonPressed event with zero-based `index`, `label`, `id`; Android AlertDialog + Material Snackbar, iOS UIAlertController + ToastManager; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/biometrics] Use these docs for the biometrics plugin ($49): `Biometrics::prompt()` with `->id()`; Completed event with boolean `success`; supports Face ID, Touch ID, fingerprint, face unlock, and system PIN/password/pattern fallback; PHP + JavaScript async/await implementations; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/push-notifications] Use these docs for push notification device enrollment: `PushNotifications::getToken()` requests permissions and retrieves the device token; TokenGenerated event handled via `#[OnNative(TokenGenerated::class)]`; requires `nativephp/mobile-firebase` plugin; place `google-services.json` (Android) and `GoogleService-Info.plist` (iOS) in app root; tokens can change after restore or updates
- [https://nativephp.com/docs/mobile/3/apis/geolocation] Use these docs for the geolocation plugin: `Geolocation::getCurrentPosition()` (network accuracy) and `getCurrentPosition(true)` (GPS precision); `checkPermissions()` and `requestPermissions()`; JS `.fineAccuracy(true)`, `.id()`; LocationReceived event (latitude, longitude, accuracy in metres, timestamp, provider, error); PermissionStatusReceived (granted/denied/not_determined); PermissionRequestResult including 'permanently_denied'; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/browser] Use these docs for the browser plugin (`nativephp/mobile-browser`, MIT): `Browser::inApp()` (SFSafariViewController on iOS / Custom Tabs on Android), `Browser::open()` (system default browser), `Browser::auth()` (OAuth flows with automatic `nativephp://` redirect handling); PHP + JS async implementations; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/secure-storage] Use these docs for the secure storage plugin ($49): `SecureStorage::set(key, value)`, `SecureStorage::get(key)`, `SecureStorage::delete(key)`; backed by iOS Keychain (`kSecAttrAccessibleWhenUnlockedThisDeviceOnly`) and Android AES-256-GCM EncryptedSharedPreferences with optional Secure Enclave/hardware-backing; PHP + JS async implementations; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/share] Use these docs for the share plugin (`nativephp/mobile-share`, MIT): `Share::url(title, text, url)` and `Share::file(title, text, filePath)`; auto-detects MIME type (audio/video/image/document); Android Intent.ACTION_SEND with FileProvider + temp file cleanup, iOS UIActivityViewController with iPad popover support; PHP + JS implementations; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/file] Use these docs for the file plugin (`nativephp/mobile-file`, MIT): `File::move(from, to)` and `File::copy(from, to)`; both return a success boolean and optional error message; auto-creates parent directories; overwrites existing destinations; post-copy integrity verification; Android cross-filesystem fallback (copy-then-delete); PHP + JS implementations; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/network] Use these docs for the network plugin (`nativephp/mobile-network`): `Network::status()` returns connected (bool), type (wifi/cellular/ethernet/unknown), isExpensive (bool for metered connections), isConstrained (bool for iOS Low Data Mode); iOS NWPathMonitor, Android ConnectivityManager with ACCESS_NETWORK_STATE permission; PHP + JS implementations; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/haptics] Use these docs for haptic feedback — note: this API has moved to the Device plugin; use `Device::vibrate()` from `nativephp/mobile-device` for triggering device vibration
- [https://nativephp.com/docs/mobile/3/apis/device] Use these docs for the device plugin (`nativephp/mobile-device`, MIT): `Device::vibrate()`, `Device::toggleFlashlight()` (returns current flashlight state bool), `Device::getId()` (iOS `identifierForVendor` UUID / Android `ANDROID_ID`), `Device::getInfo()` (JSON: name, model, platform, OS version, manufacturer, isSimulator, memory, WebView version), `Device::getBatteryInfo()` (JSON: level 0.0–1.0, isCharging); VIBRATE + FLASHLIGHT Android permissions; iOS 18.2+, Android 33+
- [https://nativephp.com/docs/mobile/3/apis/system] Use these docs for the system plugin (`nativephp/mobile-system`, MIT): `System::openAppSettings()` opens the native device settings screen for the app (returns `{success: true}`); primary use case is directing users to manually grant previously denied permissions (camera, location, notifications); PHP + JS async implementations; iOS 18.2+, Android 33+

## Concepts

- [https://nativephp.com/docs/mobile/3/concepts/authentication] Use these docs for token-based authentication in NativePHP Mobile (no session/cookie auth): short-lived auth tokens + long-lived refresh tokens both stored via `SecureStorage`; `Network::status()` check before API calls; Laravel Sanctum token endpoint (configure token expiration explicitly); OAuth via `Browser::auth(string $url)` which handles secure deep link callback via `NATIVEPHP_DEEPLINK_SCHEME` (e.g. `myapp://auth/handle`); rate limiting required on custom auth endpoints; never trust locally cached user data without server re-validation
- [https://nativephp.com/docs/mobile/3/concepts/databases] Use these docs for SQLite as the exclusive mobile database driver: auto-configuration, database creation, and migration runs on each startup; seed migrations for one-time data initialization (tracked, versioned, reversible); API-first architecture recommended over remote DB connections; Laravel Sanctum or OAuth 2.0 for API tokens; `SecureStorage` for storing auth tokens on-device
- [https://nativephp.com/docs/mobile/3/concepts/deep-links] Use these docs for two deep linking approaches: custom URL schemes (`NATIVEPHP_DEEPLINK_SCHEME`, format `myapp://path`) and associated domains/universal links (`NATIVEPHP_DEEPLINK_HOST`, format `https://example.net/path`) requiring `.well-known/apple-app-site-association` (iOS) and `.well-known/assetlinks.json` (Android); both can coexist; real device testing required for associated domains (simulators don't support them)
- [https://nativephp.com/docs/mobile/3/concepts/push-notifications] Use these docs for full Firebase Cloud Messaging (FCM) setup: create Firebase project, place `google-services.json` (Android) and `GoogleService-Info.plist` (iOS) in app root, generate `fcm-service-account.json` for server-side sending; `PushNotifications::getToken()`, TokenGenerated event with `#[OnNative(TokenGenerated::class)]`; FCM auto-routes through APNS for iOS; tokens can change after app restore/backup/update
- [https://nativephp.com/docs/mobile/3/concepts/security] Use these docs for security best practices: unique APP_KEY per device stored in SecureStorage; OAuth2 with short-lived tokens (<48h) for API auth; `SecureStorage` facade for Keychain/Keystore access (small text data only); `Crypt::encryptString()` for encrypting larger data for file/database storage; `cleanup_env_keys` to strip secrets from bundles; always use HTTPS; never expose APP_KEY to error tracking tools
